---
/* eslint max-lines: 'off' */

// eslint-disable-next-line import/no-unresolved
import { getCollection } from "astro:content";
import Search from "../components/UserSearch";

const allTWAS = await getCollection("twas");
---

<aside
	id="sidebar"
	class="fixed left-0 z-20 flex flex-col flex-shrink-0 hidden w-full lg:w-[350px] h-full pt-20 font-normal duration-75 lg:flex transition-width"
	aria-label="Sidebar"
>
<img
	src="/images/sidebar/test4.webp"
	class="hidden dark:visible fixed object-right h-full min-w-[400px] max-w-[400px] object-cover top-0"
/>
<img
	src="/images/sidebar/light.webp"
	class="dark:hidden fixed object-right h-full min-w-[400px] max-w-[400px] object-cover top-0"
/>
	<div class="relative flex flex-col items-center lg:items-baseline flex-1 min-h-0 pt-0 ">
		<div
			class:list={[
				"flex flex-col flex-1 pt-5 overflow-y-auto",
				"scrollbar scrollbar-w-2 scrollbar-thumb-rounded-[0.1667rem]",
				"scrollbar-thumb-gray-200 scrollbar-track-gray-400",
				"dark:scrollbar-thumb-gray-300 dark:scrollbar-track-gray-800",
			]}
			dir="rtl"
		>
			<div class="peer pl-10 mb-2 flex" dir="ltr">
				<Search client:only="react" />
			</div>
			<div
				class="group lg:pt-10 flex-col flex-1 px-3 space-y-1 opacity-100 peer-hover:opacity-100 hover:opacity-100"
				dir="ltr"
			>
				<ul class="pb-2 space-y-2">
					<li class=""></li>
					<li class="">
						<a
							href="/"
							class="flex items-center p-3 text-base transition-all duration-100 group-hover:w-[300px] w-[300px] lg:w-[52px] rounded-lg hover:bg-[rgba(0,0,0,0.5)] group text-white backdrop-brightness-50 backdrop-blur-[4px] h-[52px] lg:grayscale lg:hover:grayscale-0"
						>
							<svg
								fill="currentColor"
								class="w-7 h-7 min-w-fit text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-300 dark:group-hover:text-white"
								viewBox="0 0 24 24"
								xmlns="http://www.w3.org/2000/svg"
								aria-hidden="true"
							>
								<path
									d="M11.47 3.84a.75.75 0 011.06 0l8.69 8.69a.75.75 0 101.06-1.06l-8.689-8.69a2.25 2.25 0 00-3.182 0l-8.69 8.69a.75.75 0 001.061 1.06l8.69-8.69z"
								>
								</path>
								<path
									d="M12 5.432l8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 01-.75-.75v-4.5a.75.75 0 00-.75-.75h-3a.75.75 0 00-.75.75V21a.75.75 0 01-.75.75H5.625a1.875 1.875 0 01-1.875-1.875v-6.198a2.29 2.29 0 00.091-.086L12 5.43z"
								>
								</path>
							</svg>
							<span
								class="flex-1 ml-3 text-lg hover:text-white text-gray-100 drop-shadow-[0_2.2px_1.2px_rgba(0,0,0,0.9)] text-left lg:invisible group-hover:visible transition duration-1000"
								sidebar-toggle-item>Home</span
							>
						</a>
					</li>
					<li class="">
						<button
							type="button"
							class="flex items-center p-3 text-base transition-all duration-100 group-hover:w-[300px] w-[300px] lg:w-[52px] rounded-lg hover:bg-[rgba(0,0,0,0.5)] group text-white backdrop-brightness-50 backdrop-blur-[4px] h-[52px] lg:grayscale lg:hover:grayscale-0"
							aria-controls="dropdown-layouts"
							data-collapse-toggle="dropdown-layouts"
						>
						<img src="/images/icons/leaderboards.webp" class="w-7 h-7" />
							<span
								class="flex-1 ml-3 text-lg hover:text-white text-gray-100 drop-shadow-[0_2.2px_1.2px_rgba(0,0,0,0.9)] text-left lg:invisible group-hover:visible transition duration-1000"
								sidebar-toggle-item>Leaderboards</span
							>
							<svg
								sidebar-toggle-item
								class="w-7 h-7"
								fill="currentColor"
								viewBox="0 0 20 20"
								xmlns="http://www.w3.org/2000/svg"
							>
								<path
									d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
								>
								</path>
							</svg>
						</button>
						<ul id="dropdown-layouts" class="hidden py-2 space-y-2">
							<li class="">
								<a
									href="/leaderboards/experience"
									class="flex items-center p-2 text-gray-200 transition duration-75 bg-[rgba(0,0,0,0.5)] backdrop-blur-[4px] lg:text-[0px] group-hover:text-base group-hover:w-[300px] w-[300px] lg:w-[52px] rounded-lg pl-11 group hover:bg-[rgba(0,0,0,0.75)] dark:text-gray-200"
									>Experience</a
								>
							</li>
							<li class="">
								<a
									href="/leaderboards/special"
									class="flex items-center p-2 text-gray-200 transition duration-75 bg-[rgba(0,0,0,0.5)] backdrop-blur-[4px] lg:text-[0px] group-hover:text-base group-hover:w-[300px] w-[300px] lg:w-[52px] rounded-lg pl-11 group hover:bg-[rgba(0,0,0,0.75)] dark:text-gray-200"
									>Special Kills</a
								>
							</li>
							<li class="">
								<a
									href="/leaderboards/performance"
									class="flex items-center p-2 text-gray-200 transition duration-75 bg-[rgba(0,0,0,0.5)] backdrop-blur-[4px] lg:text-[0px] group-hover:text-base group-hover:w-[300px] w-[300px] lg:w-[52px] rounded-lg pl-11 group hover:bg-[rgba(0,0,0,0.75)] dark:text-gray-200"
									>Overall Performance</a
								>
							</li>
						</ul>
					</li>
					<li class="">
						<button
							type="button"
							class="flex items-center p-3 text-base transition-all duration-100 group-hover:w-[300px] w-[300px] lg:w-[52px] rounded-lg hover:bg-[rgba(0,0,0,0.5)] group text-white backdrop-brightness-50 backdrop-blur-[4px] h-[52px] lg:grayscale lg:hover:grayscale-0"
							aria-controls="dropdown-science"
							data-collapse-toggle="dropdown-science"
						>
							<svg
								class="w-7 h-7 min-w-fit text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-300 dark:group-hover:text-white"
								aria-hidden="true"
								xmlns="http://www.w3.org/2000/svg"
								width="24"
								height="24"
								fill="none"
								viewBox="0 0 24 24"
							>
								<path
									stroke="currentColor"
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M4 4v15a1 1 0 0 0 1 1h15M8 16l2.5-5.5 3 3L17.273 7 20 9.667"
								></path>
							</svg>

							<span
								class="flex-1 ml-3 text-lg hover:text-white text-gray-100 drop-shadow-[0_2.2px_1.2px_rgba(0,0,0,0.9)] text-left lg:invisible group-hover:visible transition duration-1000 text-left whitespace-nowrap"
								sidebar-toggle-item>Science</span
							>
							<svg
								sidebar-toggle-item
								class="w-7 h-7"
								fill="currentColor"
								viewBox="0 0 20 20"
								xmlns="http://www.w3.org/2000/svg"
							>
								<path
									d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
								>
								</path>
							</svg>
						</button>
						<ul id="dropdown-science" class="hidden space-y-2 py-2">
							<li class="">
								<a
									href="/science/elo"
									class="flex items-center p-2 text-gray-200 transition duration-75 bg-[rgba(0,0,0,0.5)] backdrop-blur-[4px] lg:text-[0px] group-hover:text-base group-hover:w-[300px] w-[300px] lg:w-[52px] rounded-lg pl-11 group hover:bg-[rgba(0,0,0,0.75)] dark:text-gray-200"
									>Elo</a
								>
							</li>
							<li class="">
								<a
									href="/science/playtime"
									class="flex items-center p-2 text-gray-200 transition duration-75 bg-[rgba(0,0,0,0.5)] backdrop-blur-[4px] lg:text-[0px] group-hover:text-base group-hover:w-[300px] w-[300px] lg:w-[52px] rounded-lg pl-11 group hover:bg-[rgba(0,0,0,0.75)] dark:text-gray-200"
									>Playtime</a
								>
							</li>
							<li class="">
								<a
									href="/science/matchmaking"
									class="flex items-center p-2 text-gray-200 transition duration-75 bg-[rgba(0,0,0,0.5)] backdrop-blur-[4px] lg:text-[0px] group-hover:text-base group-hover:w-[300px] w-[300px] lg:w-[52px] rounded-lg pl-11 group hover:bg-[rgba(0,0,0,0.75)] dark:text-gray-200"
									>Matchmaking</a
								>
							</li>
							<li class="">
								<a
									href="/science/maps"
									class="flex items-center p-2 text-gray-200 transition duration-75 bg-[rgba(0,0,0,0.5)] backdrop-blur-[4px] lg:text-[0px] group-hover:text-base group-hover:w-[300px] w-[300px] lg:w-[52px] rounded-lg pl-11 group hover:bg-[rgba(0,0,0,0.75)] dark:text-gray-200"
									>Maps</a
								>
							</li>
						</ul>
					</li>
					<li class="">
						<a
							href="/showcase"
							class="flex items-center p-3 text-base transition-all duration-100 group-hover:w-[300px] w-[300px] lg:w-[52px] rounded-lg hover:bg-[rgba(0,0,0,0.5)] group text-white backdrop-brightness-50 backdrop-blur-[4px] h-[52px] lg:grayscale lg:hover:grayscale-0"
						>
							<img src="/images/exotic_cannon.png" class="w-7 h-7" />
							<span
								class="flex-1 ml-3 text-lg hover:text-white text-gray-100 drop-shadow-[0_2.2px_1.2px_rgba(0,0,0,0.9)] text-left lg:invisible group-hover:visible transition duration-1000"
								sidebar-toggle-item>Cannon Showcase</span
							>
						</a>
					</li>
					<li class="">
						<button
							type="button"
							class="flex items-center p-3 text-base transition-all duration-100 group-hover:w-[300px] w-[300px] lg:w-[52px] rounded-lg hover:bg-[rgba(0,0,0,0.5)] group text-white backdrop-brightness-50 backdrop-blur-[4px] h-[52px] lg:grayscale lg:hover:grayscale-0"
							aria-controls="dropdown-auth"
							data-collapse-toggle="dropdown-auth"
						>
							<svg
								class="w-7 h-7 min-w-fit text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-300 dark:group-hover:text-white"
								aria-hidden="true"
								xmlns="http://www.w3.org/2000/svg"
								width="24"
								height="24"
								fill="currentColor"
								viewBox="0 0 24 24"
							>
								<path
									fill-rule="evenodd"
									d="M5 3a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11.5c.07 0 .14-.007.207-.021.095.014.193.021.293.021h2a2 2 0 0 0 2-2V7a1 1 0 0 0-1-1h-1a1 1 0 1 0 0 2v11h-2V5a2 2 0 0 0-2-2H5Zm7 4a1 1 0 0 1 1-1h.5a1 1 0 1 1 0 2H13a1 1 0 0 1-1-1Zm0 3a1 1 0 0 1 1-1h.5a1 1 0 1 1 0 2H13a1 1 0 0 1-1-1Zm-6 4a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H7a1 1 0 0 1-1-1Zm0 3a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H7a1 1 0 0 1-1-1ZM7 6a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H7Zm1 3V8h1v1H8Z"
									clip-rule="evenodd"></path>
							</svg>
							<span
								class="flex-1 ml-3 text-lg hover:text-white text-gray-100 drop-shadow-[0_2.2px_1.2px_rgba(0,0,0,0.9)] text-left lg:invisible group-hover:visible transition duration-1000"
								sidebar-toggle-item>This Week at Scorched</span
							>
							<svg
								sidebar-toggle-item
								class="w-7 h-7"
								fill="currentColor"
								viewBox="0 0 20 20"
								xmlns="http://www.w3.org/2000/svg"
							>
								<path
									d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
								>
								</path>
							</svg>
						</button>
						<ul id="dropdown-auth" class="hidden py-2 space-y-2">
							{
								allTWAS.map((entry) => (
										<li class="">
											<a
												href={`/twas/${entry.slug}`}
												class="flex items-center p-2 text-gray-200 transition duration-75 bg-[rgba(0,0,0,0.5)] backdrop-blur-[4px] lg:text-[0px] group-hover:text-base group-hover:w-[300px] w-[300px] lg:w-[52px] rounded-lg pl-11 group hover:bg-[rgba(0,0,0,0.75)] dark:text-gray-200"
											>
												{entry.data.title}
											</a>
										</li>
									))
							}
						</ul>
					</li>
				</ul>
				<div class="pt-2 space-y-2">
					<a
						href="/howtoplay"
						class="flex items-center p-3 text-base transition-all duration-100 group-hover:w-[300px] w-[300px] lg:w-[52px] rounded-lg hover:bg-[rgba(0,0,0,0.5)] group text-white backdrop-brightness-50 backdrop-blur-[4px] h-[52px] lg:grayscale lg:hover:grayscale-0"
					>
						<svg
							class="w-7 h-7 min-w-fit text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-300 dark:group-hover:text-white"
							aria-hidden="true"
							xmlns="http://www.w3.org/2000/svg"
							width="24"
							height="24"
							fill="currentColor"
							viewBox="0 0 24 24"
						>
							<path
								d="M8.597 3.2A1 1 0 0 0 7.04 4.289a3.49 3.49 0 0 1 .057 1.795 3.448 3.448 0 0 1-.84 1.575.999.999 0 0 0-.077.094c-.596.817-3.96 5.6-.941 10.762l.03.049a7.73 7.73 0 0 0 2.917 2.602 7.617 7.617 0 0 0 3.772.829 8.06 8.06 0 0 0 3.986-.975 8.185 8.185 0 0 0 3.04-2.864c1.301-2.2 1.184-4.556.588-6.441-.583-1.848-1.68-3.414-2.607-4.102a1 1 0 0 0-1.594.757c-.067 1.431-.363 2.551-.794 3.431-.222-2.407-1.127-4.196-2.224-5.524-1.147-1.39-2.564-2.3-3.323-2.788a8.487 8.487 0 0 1-.432-.287Z"
							></path>
						</svg>

						<span
							class="flex-1 ml-3 text-lg hover:text-white text-gray-100 drop-shadow-[0_2.2px_1.2px_rgba(0,0,0,0.9)] text-left lg:invisible group-hover:visible transition duration-1000"
							sidebar-toggle-item>Secret Tips and Tricks</span
						>
					</a>
					<a
						href="/donate"
						class="flex items-center p-3 text-base transition-all duration-100 group-hover:w-[300px] w-[300px] lg:w-[52px] rounded-lg hover:bg-[rgba(0,0,0,0.5)] group text-white backdrop-brightness-50 backdrop-blur-[4px] h-[52px] lg:grayscale lg:hover:grayscale-0"
					>
						<svg
							class="w-7 h-7 min-w-fit text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-300 dark:group-hover:text-white"
							aria-hidden="true"
							xmlns="http://www.w3.org/2000/svg"
							width="24"
							height="24"
							fill="none"
							viewBox="0 0 24 24"
						>
							<path
								stroke="currentColor"
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M8 17.345a4.76 4.76 0 0 0 2.558 1.618c2.274.589 4.512-.446 4.999-2.31.487-1.866-1.273-3.9-3.546-4.49-2.273-.59-4.034-2.623-3.547-4.488.486-1.865 2.724-2.899 4.998-2.31.982.236 1.87.793 2.538 1.592m-3.879 12.171V21m0-18v2.2"
							></path>
						</svg>

						<span
							class="flex-1 ml-3 text-lg hover:text-white text-gray-100 drop-shadow-[0_2.2px_1.2px_rgba(0,0,0,0.9)] text-left lg:invisible group-hover:visible transition duration-1000"
							sidebar-toggle-item>Donate</span
						>
					</a>
					<a
						href="/faq"
						class="flex items-center p-3 text-base transition-all duration-100 group-hover:w-[300px] w-[300px] lg:w-[52px] rounded-lg hover:bg-[rgba(0,0,0,0.5)] group text-white backdrop-brightness-50 backdrop-blur-[4px] h-[52px] lg:grayscale lg:hover:grayscale-0"
					>
						<svg
							class="w-7 h-7 min-w-fit text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-300 dark:group-hover:text-white"
							aria-hidden="true"
							xmlns="http://www.w3.org/2000/svg"
							width="24"
							height="24"
							fill="currentColor"
							viewBox="0 0 24 24"
						>
							<path
								fill-rule="evenodd"
								d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm9.408-5.5a1 1 0 1 0 0 2h.01a1 1 0 1 0 0-2h-.01ZM10 10a1 1 0 1 0 0 2h1v3h-1a1 1 0 1 0 0 2h4a1 1 0 1 0 0-2h-1v-4a1 1 0 0 0-1-1h-2Z"
								clip-rule="evenodd"></path>
						</svg>

						<span
							class="flex-1 ml-3 text-lg hover:text-white text-gray-100 drop-shadow-[0_2.2px_1.2px_rgba(0,0,0,0.9)] text-left lg:invisible group-hover:visible transition duration-1000"
							sidebar-toggle-item>FAQ</span
						>
					</a>
					<a
						href="/about"
						class="flex items-center p-3 text-base transition-all duration-100 group-hover:w-[300px] w-[300px] lg:w-[52px] rounded-lg hover:bg-[rgba(0,0,0,0.5)] group text-white backdrop-brightness-50 backdrop-blur-[4px] h-[52px] lg:grayscale lg:hover:grayscale-0"
					>
						<svg
							class="w-7 h-7 min-w-fit text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-300 dark:group-hover:text-white"
							aria-hidden="true"
							xmlns="http://www.w3.org/2000/svg"
							width="24"
							height="24"
							fill="currentColor"
							viewBox="0 0 24 24"
						>
							<path
								fill-rule="evenodd"
								d="M12 6a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Zm-1.5 8a4 4 0 0 0-4 4 2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 4 4 0 0 0-4-4h-3Zm6.82-3.096a5.51 5.51 0 0 0-2.797-6.293 3.5 3.5 0 1 1 2.796 6.292ZM19.5 18h.5a2 2 0 0 0 2-2 4 4 0 0 0-4-4h-1.1a5.503 5.503 0 0 1-.471.762A5.998 5.998 0 0 1 19.5 18ZM4 7.5a3.5 3.5 0 0 1 5.477-2.889 5.5 5.5 0 0 0-2.796 6.293A3.501 3.501 0 0 1 4 7.5ZM7.1 12H6a4 4 0 0 0-4 4 2 2 0 0 0 2 2h.5a5.998 5.998 0 0 1 3.071-5.238A5.505 5.505 0 0 1 7.1 12Z"
								clip-rule="evenodd"></path>
						</svg>

						<span
							class="flex-1 ml-3 text-lg hover:text-white text-gray-100 drop-shadow-[0_2.2px_1.2px_rgba(0,0,0,0.9)] text-left lg:invisible group-hover:visible transition duration-1000"
							sidebar-toggle-item>About</span
						>
					</a>
				</div>
			</div>
		</div>
	</div>
</aside>

<div
	class="fixed inset-0 z-10 hidden bg-gray-900/50 dark:bg-gray-900/90"
	id="sidebarBackdrop"
>
</div>

<script>
	const sidebar = document.getElementById("sidebar");

	if (sidebar) {
		const toggleSidebarMobile = (
			sidebar: HTMLElement,
			sidebarBackdrop: HTMLElement,
			toggleSidebarMobileHamburger: HTMLElement,
			toggleSidebarMobileClose: HTMLElement
		) => {
			sidebar.classList.toggle("hidden");
			sidebarBackdrop.classList.toggle("hidden");
			toggleSidebarMobileHamburger.classList.toggle("hidden");
			toggleSidebarMobileClose.classList.toggle("hidden");
		};

		const toggleSidebarMobileEl = document.getElementById(
			"toggleSidebarMobile"
		);
		const sidebarBackdrop = document.getElementById("sidebarBackdrop")!;
		const toggleSidebarMobileHamburger = document.getElementById(
			"toggleSidebarMobileHamburger"
		)!;
		const toggleSidebarMobileClose = document.getElementById(
			"toggleSidebarMobileClose"
		)!;
		const toggleSidebarMobileSearch = document.getElementById(
			"toggleSidebarMobileSearch"
		)!;

		toggleSidebarMobileSearch?.addEventListener("click", () => {
			toggleSidebarMobile(
				sidebar,
				sidebarBackdrop,
				toggleSidebarMobileHamburger,
				toggleSidebarMobileClose
			);
		});

		toggleSidebarMobileEl?.addEventListener("click", () => {
			toggleSidebarMobile(
				sidebar,
				sidebarBackdrop,
				toggleSidebarMobileHamburger,
				toggleSidebarMobileClose
			);
		});

		sidebarBackdrop?.addEventListener("click", () => {
			toggleSidebarMobile(
				sidebar,
				sidebarBackdrop,
				toggleSidebarMobileHamburger,
				toggleSidebarMobileClose
			);
		});
	}
</script>
